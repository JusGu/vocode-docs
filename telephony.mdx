---
title: "Working with phone calls"
description: "How to use agents with inbound and outbound phone calls."
---

## Overview

The Vocode SDK supports using agents with inbound and outbound phone calls. Users
can [create their own agents](/create-your-own-agent) and use them
to fulfill a variety of use cases like information collection, appointment scheduling,
sales, customer support, and more.

## Outbound Calls

The `OutboundCall` class provides a simple abstraction for creating outbound calls.

### OutboundCall Class

<ParamField path="recipient" type="CallEntity" required={true}>
  The recipient entity for the phone call.
</ParamField>

<ParamField path="caller" type="CallEntity" required={true}>
  The caller entity for the phone call.
</ParamField>

<ParamField path="agent_config" type="AgentConfig" required={true}>
  The configuration for the AI agent.
</ParamField>

### Example: Making an outbound call

```python
from vocode.streaming.telephony.outbound_call import OutboundCall
from vocode.streaming.models.telephony import CallEntity
from vocode.streaming.models.agent import WebSocketUserImplementedAgentConfig

if __name__ == '__main__':
    call = OutboundCall(
        recipient=CallEntity(
            phone_number="+12345678900",
        ),
        caller=CallEntity(
            phone_number="+12345678900",
        ),
        agent_config=WebSocketUserImplementedAgentConfig(
            respond=WebSocketUserImplementedAgentConfig.RouteConfig(
                url="ws://localhost:3001/respond"
            )
        )
    )
    call.start()
```

## Inbound Calls

The `InboundCallServer` class provides a simple abstraction to create an endpoint that can host your agent
to respond to inbound calls. In order to implement an inbound call agent, start by defining an `InboundCallServer`
like so:

```python
from vocode.streaming.telephony.inbound_call_server import InboundCallServer
from vocode.streaming.models.agent import EchoAgentConfig
from vocode.streaming.models.message import BaseMessage
from vocode.streaming.models.telephony import TwilioConfig

if __name__ == '__main__':
    server = InboundCallServer(
        agent_config=EchoAgentConfig(initial_message=BaseMessage(text="hello!")),
        twilio_config=TwilioConfig(
            account_sid=os.getenv("TWILIO_ACCOUNT_SID"),
            auth_token=os.getenv("TWILIO_AUTH_TOKEN"),
        )
    )
    server.run(port=3001)
```

This spins up a FastAPI web server with a `/vocode` route that returns a TwiML object that we will need in the next
step. If you're using our [Replit template](https://replit.com/@vocode/Inbound-Call-Server), this is already set up for you!

Next, we'll set up a programmable phone number on Twilio that can accept the TwiML object from
above. To do this,

1. Create a [Twilio](https://www.twilio.com/) account
2. Find your Twilio credentials: this is found on under _Account Info_ in the dashboard.
   > Tip: if you already have existing Twilio integrations, set up the number in a [subaccount](https://support.twilio.com/hc/en-us/articles/360011132374-Getting-Started-with-Twilio-Accounts-and-Subaccounts)
3. Set up `TWILIO_ACCOUNT_SID` and `TWILIO_AUTH_TOKEN` in your environment. If you're using Replit, use [Replit secrets](https://docs.replit.com/programming-ide/workspace-features/storing-sensitive-information-environment-variables). Otherwise, packages like [python-dotenv](https://pypi.org/project/python-dotenv/) are useful for this.
4. Once inside your dashboard, go to Phone Numbers -> Manage -> Buy a number to get a phone number.
5. Then, go to Phone Numbers -> Manage -> Active Numbers and select the number you want to set up.
6. Update the config to point the Webhook URL to the `/vocode` route we just set up.
   > If you're using the Replit template, use the provided hosted URL that looks something like `https://<repl>.<username>.repl.co/vocode`

![Setup](/images/twilio_number_config.png)

7. Hit **Save** and call the number!
